#summary How to install the toolbox
#labels Featured,Support

<wiki:toc/>

= Toolbox Installation =

This page provides an overview of the steps required in order to get the IMOS Toolbox up and running.

== Standalone installation ==

=== Requirements ===

 * Windows (XP from Seven either in 32bit or 64bit) or Linux 64bit operating system
 * (Recommended) A deployment database which contains some data (have a look at the deployment database [http://imos-toolbox.googlecode.com/svn/wiki/documents/deployment_database_conventions.pdf guidelines])
 * (Recommended) Java JRE (1.6 or newer) to be able to query the deployment database with the toolbox.
 * Microsoft Access 32bit if you use a 32bit operating system / Matlab, 64bit if you use a 64bit one (Optional, can be bypassed with UCanAccess, especially when using Linux)

=== Install Matlab Runtime ===

In order to run the standalone version of the Toolbox, you must first install the Matlab Component Runtime (MCR). You can download the proper MCR installer [http://data.aodn.org.au/IMOS/public/eMII/softwares/MCRInstaller/ here] :

 * imos-toolbox version 1.5 : MCRInstaller_7.10
 * imos-toolbox version 1.5.5 : MCRInstaller_7.12
 * imos-toolbox >= version 2.0 : MCRInstaller_7.14
 * imos-toolbox >= version 2.3 : MCRInstaller_8.0, choose according to your operating system.

You only need to run the installer once. For Windows, it comes as a straightforward executable, for Linux you need to unzip the archive, give executable permissions to the 'install' file and then execute it with root credentials. Then simply follow the instructions. During installation, you might be warned about requiring the .NET Framework - you may safely ignore this warning.

=== Install IMOS Toolbox ===

Download an archive from the [http://data.aodn.org.au/IMOS/public/eMII/softwares/imos-toolbox/ downloads] page. Most of the users should only use the last stable version : imos-toolbox-X.XX.zip. Unstable versions YY-MM-DD_unstable_snapshot.zip should be used for test purpose only and not in any case to deliver data to eMII. Extract the archive to a directory of your choice. 

=== Configure Deployment Database ===

Since imos-toolbox versions 2.0, in addition to the MS-Access deployment database (template provided in the [http://data.aodn.org.au/IMOS/public/eMII/softwares/imos-toolbox/ downloads] page), it is also possible to connect to any user-specific database providing its schema complies to a minimum requirements.

==== MS Access database ====

The toolbox is able to read the MS Access deployment database either using Microsoft ODBC driver (recommended) or UCanAccess JDBC driver (no other choice for Linux).

===== With Microsoft Access ODBC drivers =====

The Microsoft Access software comes with a Microsoft Access ODBC driver which can be used to turn your MS Access file into an ODBC source following the described steps below:

 * Start
  * Control Panel
   * Administrative Tools
    * Data Sources (ODBC)
     * User DSN
      * Add 
       * Driver: "Microsoft Access Driver (`*`.mdb)"
       * Data Source Name: "imos-ddb" (or whatever you wish to call it)
       * Select -> navigate to the ddb MS Access file

Once you have configured the ddb as an ODBC source, set the `toolbox.ddb` property (in `toolboxProperties.txt`) to the ODBC Data Source Name. If you are not using a deployment database, ensure the `toolbox.ddb` property is unset.

It is important that your Microsoft Access software version (32bit or 64bit) matches the IMOS toolbox standalone or Matlab version (32bit or 64bit) used.

===== With UCanAccess JDBC drivers =====

Simply set the `toolbox.ddb` property (in `toolboxProperties.txt`) to your MS Access file full path.

==== Other database ====

Your deployment database architecture has to follow a [DeploymentDatabase#Interface_requirements minimum interface requirements] to prevent the toolbox from crashing. Then to be able to query it through the toolbox, you must put the driver (.jar file) used to connect to it in the Java directory and set the relevant `toolbox.ddb.*` properties (in `toolboxProperties.txt`) properly.

=== Startup ===

Start the toolbox by double clicking on the relevant executable according to your operating system (if any doubt try Windows 32bit):

 * `imosToolbox_Win32.bat`  for Windows 32bit 
 * `imosToolbox_Win64.bat`  for Windows 64bit
 * `imosToolbox_Linux64.sh` for Linux 64bit

This is basically executing the relevant `imosToolbox.exe` but then will pause in the DOS command window after exiting the toolbox so that you can have a look at any output message.

== Source installation ==

Only high level users should be interested in using the source code, for example users who would like to contribute to the development of the code. See [http://code.google.com/p/imos-toolbox/wiki/ContributeToTheCode how to contribute to the code] part.

=== Requirements ===

 * Windows (XP from Seven either in 32bit or 64bit) or Linux 64bit operating system
 * Matlab (R2010b or newer)
 * (Recommended) A deployment database which contains some data (have a look at the deployment database [http://imos-toolbox.googlecode.com/svn/wiki/documents/deployment_database_conventions.pdf guidelines])
 * (Recommended) Java JRE (1.6 or newer) to be able to query the deployment database with the toolbox.
 * Microsoft Access 32bit if you use a 32bit operating system / Matlab, 64bit if you use a 64bit one (Optional, can be bypassed with UCanAccess, especially when using Linux)

=== Download and install ===

Download an archive from the [http://data.aodn.org.au/IMOS/public/eMII/softwares/imos-toolbox/ downloads] page. Most of the users should only use the last stable version : imos-toolbox-X.XX.zip. Unstable versions YY-MM-DD_unstable_snapshot.zip should be used for test purpose only and not in any case to deliver data to eMII. Extract the archive to a directory of your choice.

Before you can use the toolbox, you must configure the matlab path and deployment database.

=== Matlab path ===

The toolbox root, and every subdirectory within the toolbox root must be on the matlab path. In other words, you must add the following list of directories to your matlab path, either by setting the `MATLABPATH` environment variable, or, within matlab, using the 'Set Path' dialog, which is accessed via 'File'->'Set Path'. 

Assuming that the toolbox is installed in `C:\imos-toolbox`, you must add the following directories to the path:
  * `C:\imos-toolbox\`
    * `C:\imos-toolbox\AutomaticQC`
    * `C:\imos-toolbox\DDB`
    * `C:\imos-toolbox\FlowManager`
    * `C:\imos-toolbox\GUI`
    * `C:\imos-toolbox\Graph`
      * `C:\imos-toolbox\Graph\DepthProfile`
      * `C:\imos-toolbox\Graph\TimeSeries`
      * `C:\imos-toolbox\Graph\Transect`
    * `C:\imos-toolbox\IMOS`
    * `C:\imos-toolbox\NetCDF`
    * `C:\imos-toolbox\Parser`
    * `C:\imos-toolbox\Preprocessing`
    	* `C:\imos-toolbox\Preprocessing\Transform`
    * `C:\imos-toolbox\Seawater`
    * `C:\imos-toolbox\Util`

=== Deployment Database ===

As with a standalone installation, you must [#Configure_Deployment_Database configure your database].

Since version 2.3, it is not necessary to edit your Matlab `classpath.txt`. Any jar file in the Java directory and sub-directories is dynamically added to the matlab classpath whether the application is standalone or within matlab.

=== Startup ===

You should now be able to start matlab and run the toolbox. Before executing the `imosToolbox` function, you must first navigate to the installation directory:
{{{
>> cd C:\imos-toolbox
>> imosToolbox
}}}

See the [UsingTheToolboxOverview overview] on using the toolbox to get started.

== Using the toolbox under Linux ==

The toolbox runs under Linux. If you are using a deployment database however, MS Access support under Linux is still not the best with warning messages often displayed by UCanAccess. It is possible to query AIMS protected deployment database (used only by AIMS staff, the template provided by IMOS is not protected) from Matlab by increasing Matlab Java heap space memory to at least 1.5Gb which consequently slows down the queries performance.
