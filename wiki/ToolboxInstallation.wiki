#summary How to install the toolbox
#labels Featured,Support

<wiki:toc/>

= Toolbox Installation =

This page provides an overview of the steps required in order to get the IMOS Toolbox up and running.

== Standalone installation ==

=== Requirements ===

 * Windows XP
 * (Recommended) A deployment database which contains some data (have a look at the deployment database [http://imos-toolbox.googlecode.com/svn/wiki/documents/deployment_database_conventions.pdf guidelines])
 * (Recommended) Java JRE (1.5 or newer) to be able to query the deployment database with the toolbox.

=== Install Matlab Runtime ===

In order to run the standalone version of the Toolbox, you must first install the Matlab Component Runtime (MCR). You can download the proper MCR installer [ftp://dataupload.emii.org.au/pub/software/MCRInstaller here] :

 * imos-toolbox version 1.5 : MCRInstaller_7.10.exe
 * imos-toolbox version 1.5.5 : MCRInstaller_7.12.exe
 * imos-toolbox > version 1.5.5 : MCRInstaller_7.14.exe

The installer is a straightforward Windows installer; you only need to run it once. After you've downloaded the file, double click on it, and follow the instructions. During installation, you might be warned about requiring the .NET Framework - you may safely ignore this warning.

=== Install IMOS Toolbox ===

Download an archive from the [http://code.google.com/p/imos-toolbox/downloads/list downloads] page. Most of the users should only use the last stable version : imos-toolbox-X.XX.zip. Unstable versions YY-MM-DD_unstable_snapshot.zip should be used for test purpose only and not in any case to deliver data to eMII. Extract the archive to a directory of your choice. 

=== Configure Deployment Database ===

Since imos-toolbox versions strictly above 1.5.5, in addition to the MS-Access deployment database (template provided in the [http://code.google.com/p/imos-toolbox/downloads/list downloads] page), it is also possible to connect to any user-specific database providing its schema complies to a minimum requirements.

==== ACCESS database ====

To be able to use the MS-Access deployment database, you must configure it as an ODBC source:

 * Start
  * Control Panel
   * Administrative Tools
    * Data Sources (ODBC)
     * User DSN
      * Add 
       * Driver: "Microsoft Access Driver (`*`.mdb)"
       * Data Source Name: "imos-ddb" (or whatever you wish to call it)
       * Select -> navigate to the ddb MS Access file

Once you have configured the ddb as an ODBC source, set the `toolbox.ddb` property (in `toolboxProperties.txt`) to the ODBC Data Source Name. If you are not using a deployment database, ensure the `toolbox.ddb` property is unset.

==== Other database ====

Your deployment database architecture has to follow a [DeploymentDatabase#Interface_requirements minimum interface requirements] to prevent the toolbox from crashing. Then to be able to query it through the toolbox, you must put the driver (.jar file) used to connect to it in the Java directory and set the `toolbox.ddb.*` properties (in `toolboxProperties.txt`) properly.

=== Startup ===

Start the toolbox by double clicking on `imosToolbox.bat`. This is basically executing `imosToolbox.exe` but then will pause in the DOS command window after exiting the toolbox so that you can have a look for any output message.

== Source installation ==

Only high level users should be interested in using the source code, for example users who would like to contribute to the development of the code. See [http://code.google.com/p/imos-toolbox/wiki/ContributeToTheCode how to contribute to the code] part.

=== Requirements ===

 * Windows XP
 * Matlab (r 2010b or newer)
 * (Recommended) A deployment database which contains some data (have a look at the deployment database [http://imos-toolbox.googlecode.com/svn/wiki/documents/deployment_database_conventions.pdf guidelines])
 * (Recommended) Java JRE (1.5 or newer) to be able to query the deployment database with the toolbox.

=== Download and install ===

Download an archive from the [http://code.google.com/p/imos-toolbox/downloads/list downloads] page. Most of the users should only use the last stable version : imos-toolbox-X.XX.zip. Unstable versions YY-MM-DD_unstable_snapshot.zip should be used for test purpose only and not in any case to deliver data to eMII. Extract the archive to a directory of your choice.

Before you can use the toolbox, you must configure the matlab path and deployment database.

=== Matlab path ===

The toolbox root, and every subdirectory within the toolbox root must be on the matlab path. In other words, you must add the following list of directories to your matlab path, either by setting the `MATLABPATH` environment variable, or, within matlab, using the 'Set Path' dialog, which is accessed via 'File'->'Set Path'. 

Assuming that the toolbox is installed in `C:\imos-toolbox`, you must add the following directories to the path:
  * `C:\imos-toolbox\`
    * `C:\imos-toolbox\AutomaticQC`
    * `C:\imos-toolbox\DDB`
    * `C:\imos-toolbox\FlowManager`
    * `C:\imos-toolbox\Graph`
      * `C:\imos-toolbox\Graph\TimeSeries`
      * `C:\imos-toolbox\Graph\DepthProfile`
      * `C:\imos-toolbox\Graph\Transect`
    * `C:\imos-toolbox\GUI`
    * `C:\imos-toolbox\IMOS`
    * `C:\imos-toolbox\NetCDF`
    * `C:\imos-toolbox\Parser`
    * `C:\imos-toolbox\Preprocessing`
    	* `C:\imos-toolbox\Preprocessing\Transform`
    * `C:\imos-toolbox\Seawater`
    * `C:\imos-toolbox\Util`

=== Deployment Database ===

As with a standalone installation, you must [#Configure_Deployment_Database configure your database].

The ddb is accessed via Java code, thus you must also let Matlab know where the Java classes are, by editing `classpath.txt`. To do so, open Matlab and type `edit classpath.txt` in the console. Assuming that the toolbox is installed in `C:\imos-toolbox`, add the following line to the file `classpath.txt`:
{{{
C:\imos-toolbox\Java\ddb.jar
}}}
Then restart Matlab so that those changes take effect.

=== Startup ===

You should now be able to start matlab and run the toolbox. Before executing the `imosToolbox` function, you must first navigate to the installation directory:
{{{
>> cd C:\imos-toolbox
>> imosToolbox
}}}

See the [UsingTheToolboxOverview overview] on using the toolbox to get started.

== Using the toolbox under Linux ==

The toolbox should run under Linux. If you are using a deployment database however, MS Access support under Linux is flaky at best. Having said that, the development of the toolbox until version 1.5.5 has been almost exclusively performed under Ubuntu 9.04 (testing under Windows regularly, of course). See [DeploymentDatabaseInterface here] for more details on running the toolbox under Linux. Since version 1.5.5 and above, the development have only been performed under Windows XP 32bits.
