#summary Brief walkthrough on how to use the toolbox
#labels Support

<wiki:toc/>

= Using the Toolbox =

This page gives a brief overview on how to use the toolbox. You are encouraged to provide feedback on any aspect of the toolbox (e.g. is the user interface intuitive, easy to use?). Check out the [ToolboxInstallation installation instructions] for details on how to get the toolbox up and running.

== Starting the toolbox ==

The standalone version of the toolbox is started by double clicking on `imosToolbox.exe`.

If you are using the toolbox within Matlab, the toolbox is started via the `imosToolbox` function:
{{{
>> imosToolbox
}}}

=== Automatic toolbox execution ===

The source version of the toolbox can be executed in an automatic manner, by passing some arguments to the `imosToolbox` function. A deployment database must be present in order to run the toolbox automatically. When you pass the string `'auto'` to the `imosToolbox` function, the toolbox will import all of the files specified in the deployment database, using the field trip and data directory specified in `toolboxProperties.txt`, run the data sets through the default set of automatic pre-processing and QC routines, and export the data sets as NetCDF to the default export directory:

{{{
>> imosToolbox auto
}}}

Alternatively, you can specify the field trip, data directory, pre-processing routines, QC routines and export directory as arguments to `imosToolbox`:
{{{
>> imosToolbox('auto', '4788', 'C:\Raw Data\', {'timeOffset', 'depth'}, {'inWaterQC' 'outWaterQC'}, 'C:\NetCDF\')
}}}

== Importing data ==

=== Without deployment database ===

Upon starting the toolbox, you will be prompted to select a raw data file to import:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_manual_import.png

Once you choose a file, you will be prompted to choose which parser to use to import the data. Choose the parser appropriate for the file.

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_manual_parser.png

=== With deployment database ===

Upon starting the toolbox, you are first presented with the following dialog:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_startDialog.png

Choose the field trip in which you are interested, and the directory which contains the raw data related to that field trip. You can use the top buttons to select a date range over which to filter the list of field trips to choose from.

Once you have selected a field trip and data directory, the toolbox will attempt to match up deployments with raw data files. You will then be presented with the following dialog:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_dataFileStatusDialog.png

The top half of the dialog contains the list of all deployments related to the field trip; the bottom half contains the list of all files which were found, that correspond to the currently selected deployment.

Some of the deployments are highlighed:

 * A <font color="red">red deployment</font> indicates that the information in the ddb was invalid.
 * A *bold deployment* indicates that the toolbox could not find any files related to that deployment.
 * An _italicised deployment_ indicates that multiple files were found for that deployment. This will be the norm for instruments which store their data over multiple files. For other instruments this may indicate an error in the ddb, or in the data file naming scheme.

The dialog allows you to resolve any discrepancies between the information in ddb and the raw data files, by removing deployments, and adding/removing files to/from deployments.

When you are happy with the list of deployments for which data is to be imported, confirm the dialog; you will be presented with a progress bar while the data is imported:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_importProgress.png

== Preprocessing data ==

After import, you may be presented with a dialog allowing you to choose from a list of preprocessing routines:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_preprocess.png

== Viewing data ==

When the data has been imported, you will be presented with the main window, which allows you to view the sample data. Use the drop down menu at the top left to select the data set to view. With the panel at the bottom left you can choose to omit parameters. 

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_main_window.png

By clicking on the 'Metadata' button on the left, you can also view and modify metadata:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_metadata.png

If your data set has a depth dimension or variable, you can view the data as a depth profile, by selecting '!DepthProfile' from the graph list at the top right of the window:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_depth_profile.png

Similarly, for data with latitude/longitude variables, you can view the data as transects:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_transect.png

== Quality Control ==

By clicking on the 'Quality Control' button, you can choose to run the data through a set of automatic QC filters, which will automatically flag the data sets. The flags will be overlaid on the graphs:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_qc_dialog.png

You can see that a few data points have been flagged. You can use the Matlab zoom mode to zoom in for a closer look. When you deselect zoom mode, you can use click+drag a box around data points to select them. Use the left mouse button to select all data points, and the right mouse button to select already-flagged data points. The selected data points are highlighted in white.

Clicking on a set of selected data points will bring up a dialog, allowing you to set the QC flag on those points. The options will be different depending on which QC set you are using. When you confirm the flag dialog, you will see that the flag values for the selected data points have changed.

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_flag_dialog.png

== Export ==

Ay any time, you can click the 'Export NetCDF' button to export the data sets to IMOS compliant NetCDF files. You can choose to omit specific variables, and to export raw data, QC'd data or both:

http://imos-toolbox.googlecode.com/svn/wiki/images/gui_export.png

You will be presented with a similar dialog upon clicking the 'Export Raw' button, which allows you to copy the original raw data files, renamed with an IMOS compliant file name.